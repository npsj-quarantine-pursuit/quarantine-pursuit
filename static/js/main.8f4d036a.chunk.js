(this["webpackJsonpquarantine-pursuit"]=this["webpackJsonpquarantine-pursuit"]||[]).push([[0],{25:function(e,t,a){},41:function(e,t,a){e.exports=a.p+"static/media/logo.d89ed495.png"},45:function(e,t,a){e.exports=a(74)},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(38),o=a.n(i),c=(a(25),a(8)),s=a(9),l=a(11),u=a(10),m=a(13),d=a(2),h=a(20),p=a.n(h);a(50);p.a.initializeApp({apiKey:"AIzaSyBvJwO2yQSGErN9NBZQnldxiKSwQSt1mkc",authDomain:"quarantine-pursuit.firebaseapp.com",databaseURL:"https://quarantine-pursuit.firebaseio.com",projectId:"quarantine-pursuit",storageBucket:"quarantine-pursuit.appspot.com",messagingSenderId:"800505781023",appId:"1:800505781023:web:445c432c49eb4bf083ae2a"});var f=p.a,E=a(40),b=a(39),g=function(){return r.a.createElement("div",{className:"loading-container"},r.a.createElement(b.a,{icon:E.a,"aria-hidden":"true"}))},v=a(41),y=a.n(v),q=a(42),k=a(16),C=a.n(k),z=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState(Object(q.a)({},t.target.name,t.target.value))},e.handleClick=function(t){t.preventDefault(),e.props.loadingHandler();var a={};C()({url:"https://opentdb.com/api.php",method:"GET",responseType:"JSON",params:{amount:e.state.amount,category:e.state.selectedCategory,difficulty:e.state.difficulty,token:e.state.token,type:"multiple",encode:"url3986"}}).then((function(t){t.data.response_code>0?(alert("I'm sorry, there aren't enough questions available in that category. Try again with a lower number of questions or change categories. "),e.props.loadingFalse()):(a=t.data.results,e.props.callQuiz(a))}))},e.state={categories:[],isLoading:!0,selectedCategory:0,amount:1,difficulty:"easy",token:""},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;C()({url:"https://opentdb.com/api_category.php",method:"GET",responseType:"JSON"}).then((function(t){var a=t.data.trivia_categories;e.setState({categories:a,isLoading:!1})})).catch((function(){alert("I can't seem to connect to my database :'(. Please come back later... I'll do better I swear")})),C()({url:"https://opentdb.com/api_token.php?command=request",method:"GET",responseType:"JSON"}).then((function(t){var a=t.data.token;e.setState({token:a})}))}},{key:"render",value:function(){return r.a.createElement("form",{className:"centered"},r.a.createElement("div",{className:"inputPair"},r.a.createElement("label",{htmlFor:"selectedCategory"},"Choose a Category:"),r.a.createElement("select",{name:"selectedCategory",id:"categories",onChange:this.handleChange},this.state.categories.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name)})))),r.a.createElement("div",{className:"inputPair"},r.a.createElement("label",{htmlFor:"amount"},"Number of Questions:"),r.a.createElement("p",null,this.state.amount),r.a.createElement("input",{type:"range",name:"amount",min:"2",max:"20",value:this.state.amount,onChange:this.handleChange})),r.a.createElement("div",{className:"inputPair"},r.a.createElement("label",{htmlFor:"difficulty"},"Choose a Difficulty:"),r.a.createElement("select",{name:"difficulty",id:"difficulty",onChange:this.handleChange},r.a.createElement("option",{value:"easy"},"Easy"),r.a.createElement("option",{value:"medium"},"Medium"),r.a.createElement("option",{value:"hard"},"Hard"))),r.a.createElement("button",{onClick:this.handleClick},"Generate Quiz"))}}]),a}(n.Component),S=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleClick=function(t){e.props.selectQuiz(t.currentTarget.name)},e.state={quizList:[],quizInfo:{}},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.database().ref().once("value",(function(t){var a=t.val(),n=Object.keys(a);e.setState({quizList:n,quizInfo:a})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.quizList.map((function(t){return r.a.createElement("div",{className:"centered selectQuiz",key:t},r.a.createElement("button",{name:t,onClick:e.handleClick},r.a.createElement("h3",null,t),r.a.createElement("p",null,"Category: ",decodeURIComponent(e.state.quizInfo[t][0].category)),r.a.createElement("p",null,e.state.quizInfo[t].length," Questions"),r.a.createElement("p",null,"Difficulty: ",decodeURIComponent(e.state.quizInfo[t][0].difficulty))))})))}}]),a}(n.Component),w=a(44);var Q=function(e){return r.a.createElement("div",{className:"centered"},r.a.createElement("h2",null,"Your Score is: ",e.score,"/",e.quiz.length),r.a.createElement(m.a,{to:"/"},r.a.createElement("button",{onClick:e.reset},"Home")),r.a.createElement("button",{onClick:function(){var t=prompt("What would you like to name this quiz?");f.database().ref().child(t).set(e.quiz)}},"Save Quiz"))},N=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).nextQuestion=function(){var e=n.state.questionNumber;++e<n.props.quiz.length?n.setState({questionNumber:e,currentQuestion:n.props.quiz[e],shuffled:!1,answerFeedback:"The Correct Answer Was: ".concat(decodeURIComponent(n.state.currentQuestion.correct_answer))}):n.setState({showFinalScore:!0})},n.handleClick=function(e){n.nextQuestion(),n.state.currentQuestion.correct_answer===e.target.name&&n.correct()},n.correct=function(){var e=n.state.score;e++,n.setState({score:e,answerFeedback:"Correct!"})},n.reset=function(){n.setState({questionNumber:0,score:0,showFinalScore:!1}),n.props.reset()},n.countdown=function(){var e=n.state.timer-1;n.setState({timer:e})},n.combineAndShuffle=function(){!function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*t),r=e[t];e[t]=e[a],e[a]=r}n.setState({question_list:e,timer:30})}([].concat(Object(w.a)(n.state.currentQuestion.incorrect_answers),[n.state.currentQuestion.correct_answer]))},n.state={currentQuestion:n.props.quiz[0],questionNumber:0,score:0,showFinalScore:!1,question_list:[],shuffled:!1,answerFeedback:"",timer:30},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.combineAndShuffle(),setInterval(this.countdown,1e3)}},{key:"componentDidUpdate",value:function(){!1===this.state.shuffled&&(this.combineAndShuffle(),this.setState({shuffled:!0})),0===this.state.timer&&(this.nextQuestion(),this.setState({timer:30}))}},{key:"render",value:function(){var e=this,t=this.state.question_list.map((function(t,a){return r.a.createElement("button",{className:"answerButtons",name:t,key:a,onClick:e.handleClick},decodeURIComponent(t))})),a=this.state,n=a.showFinalScore,i=a.answerFeedback,o=a.score,c=a.currentQuestion;return r.a.createElement("div",null,n?r.a.createElement("div",null,"Correct!"===i?r.a.createElement("h2",{className:"correct"},i):r.a.createElement("h2",{className:"incorrect"},i),r.a.createElement(Q,{quiz:this.props.quiz,score:o,reset:this.reset})):r.a.createElement("div",{className:"centered"},"Correct!"===i?r.a.createElement("h2",{className:"correct"},i):r.a.createElement("h2",{className:"incorrect"},i),e.state.timer>=20?r.a.createElement("p",{className:"timerGreen"},e.state.timer):e.state.timer<=20&&e.state.timer>=10?r.a.createElement("p",{className:"timerYellow"},e.state.timer):r.a.createElement("p",{className:"timerRed"},e.state.timer),r.a.createElement("h2",{className:"question"},decodeURIComponent(c.question)),t))}}]),a}(n.Component),O=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).callQuiz=function(t){e.setState({quiz:t,dataReady:!0,isLoading:!1})},e.selectQuiz=function(t){f.database().ref(t).once("value",(function(t){var a=t.val();e.setState({quiz:a})})).then((function(){e.setState({dataReady:!0,isLoading:!1})}))},e.reset=function(){e.setState({quiz:[{question:"",correctAnswer:"",incorrect_answers:[]}],dataReady:!1})},e.loadingHandler=function(){e.setState({isLoading:!0})},e.loadingFalse=function(){e.setState({isLoading:!1})},e.state={quiz:[{question:"",correctAnswer:"",incorrect_answers:[]}],dataReady:!1,isLoading:!1},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(m.a,{basename:"/quarantine-pursuit"},r.a.createElement("header",null,r.a.createElement("h1",{className:"sr-only"},"Qurantine Pursuit"),r.a.createElement("img",{src:y.a,alt:"Logo for Qurantine Pursuit"})),r.a.createElement("main",null,r.a.createElement(d.b,{exact:!0,path:"/"},r.a.createElement("button",null,r.a.createElement(m.b,{to:"/create"},"Create a Quiz!")),r.a.createElement("button",null,r.a.createElement(m.b,{to:"/select"},"Select an Existing Quiz!"))),r.a.createElement(d.b,{path:"/create"},r.a.createElement("div",{className:"loadingHelper"},this.state.isLoading?r.a.createElement(g,null):null,r.a.createElement(z,{callQuiz:this.callQuiz,loadingHandler:this.loadingHandler,loadingFalse:this.loadingFalse}))),r.a.createElement(d.b,{path:"/select"},r.a.createElement(S,{selectQuiz:this.selectQuiz})),this.state.dataReady?r.a.createElement(d.a,{to:"/play"}):r.a.createElement(d.a,{to:"/"}),r.a.createElement(d.b,{path:"/play"},r.a.createElement(N,{quiz:this.state.quiz,reset:this.reset}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.8f4d036a.chunk.js.map